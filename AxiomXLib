--[[
    AxiomX - Biblioteca de Interface Moderna para Roblox
    VersÃ£o: 3.0.0
    Autor: Assistente
]]

local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

local AxiomX = {
    Themes = {
        Default = {
            Background = Color3.fromRGB(30, 30, 35),
            Surface = Color3.fromRGB(40, 40, 45),
            Primary = Color3.fromRGB(0, 160, 255),
            Secondary = Color3.fromRGB(255, 85, 85),
            Text = Color3.fromRGB(255, 255, 255),
            TextDark = Color3.fromRGB(180, 180, 180),
            Stroke = Color3.fromRGB(60, 60, 65)
        },
        Dark = {
            Background = Color3.fromRGB(20, 20, 20),
            Surface = Color3.fromRGB(30, 30, 30),
            Primary = Color3.fromRGB(0, 200, 255),
            Secondary = Color3.fromRGB(255, 70, 70),
            Text = Color3.fromRGB(255, 255, 255),
            TextDark = Color3.fromRGB(150, 150, 150),
            Stroke = Color3.fromRGB(45, 45, 45)
        },
        Light = {
            Background = Color3.fromRGB(240, 240, 240),
            Surface = Color3.fromRGB(255, 255, 255),
            Primary = Color3.fromRGB(0, 120, 255),
            Secondary = Color3.fromRGB(255, 50, 50),
            Text = Color3.fromRGB(20, 20, 20),
            TextDark = Color3.fromRGB(80, 80, 80),
            Stroke = Color3.fromRGB(200, 200, 200)
        }
    },
    Flags = {},
    Tabs = {},
    Elements = {}
}

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AxiomX"
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder = 100

local function MakeDraggable(frame)
    local dragging = false
    local dragStart = nil
    local startPos = nil

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
        end
    end)

    frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    game:GetService("RunService").RenderStepped:Connect(function()
        if dragging then
            local delta = Mouse.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
end

local function CreateCorner(parent, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius or 6)
    corner.Parent = parent
    return corner
end

local function CreateStroke(parent, color, thickness)
    local stroke = Instance.new("UIStroke")
    stroke.Color = color or AxiomX.Themes.Default.Stroke
    stroke.Thickness = thickness or 1
    stroke.Parent = parent
    return stroke
end

function AxiomX:GetTheme()
    return self.Themes.Default
end

function AxiomX:Window(config)
    local theme = self:GetTheme()
    local windowTitle = config.Title or "AxiomX"
    local windowSubtitle = config.Subtitle or "Library"
    local windowSize = config.Size or UDim2.fromOffset(600, 400)
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainWindow"
    mainFrame.Size = windowSize
    mainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
    mainFrame.BackgroundColor3 = theme.Background
    mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    mainFrame.Parent = ScreenGui
    mainFrame.ClipsDescendants = true
    CreateCorner(mainFrame, 8)
    CreateStroke(mainFrame, theme.Stroke, 2)
    
    MakeDraggable(mainFrame)
    
    local topBar = Instance.new("Frame")
    topBar.Name = "TopBar"
    topBar.Size = UDim2.new(1, 0, 0, 35)
    topBar.BackgroundColor3 = theme.Surface
    topBar.BorderSizePixel = 0
    topBar.Parent = mainFrame
    CreateCorner(topBar, 8)
    
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "Title"
    titleLabel.Size = UDim2.new(0, 200, 1, 0)
    titleLabel.Position = UDim2.new(0, 15, 0, 0)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = windowTitle
    titleLabel.TextColor3 = theme.Text
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Font = Enum.Font.GothamSemibold
    titleLabel.TextSize = 16
    titleLabel.Parent = topBar
    
    local subtitleLabel = Instance.new("TextLabel")
    subtitleLabel.Name = "Subtitle"
    subtitleLabel.Size = UDim2.new(0, 100, 1, 0)
    subtitleLabel.Position = UDim2.new(0, 15 + titleLabel.TextBounds.X + 5, 0, 0)
    subtitleLabel.BackgroundTransparency = 1
    subtitleLabel.Text = windowSubtitle
    subtitleLabel.TextColor3 = theme.TextDark
    subtitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    subtitleLabel.Font = Enum.Font.Gotham
    subtitleLabel.TextSize = 12
    subtitleLabel.Parent = topBar
    
    local closeBtn = Instance.new("TextButton")
    closeBtn.Name = "CloseButton"
    closeBtn.Size = UDim2.new(0, 25, 0, 25)
    closeBtn.Position = UDim2.new(1, -30, 0.5, -12.5)
    closeBtn.BackgroundColor3 = theme.Secondary
    closeBtn.Text = "X"
    closeBtn.TextColor3 = theme.Text
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 14
    closeBtn.Parent = topBar
    CreateCorner(closeBtn, 6)
    
    closeBtn.MouseButton1Click:Connect(function()
        mainFrame.Visible = false
    end)
    
    local minimizeBtn = Instance.new("TextButton")
    minimizeBtn.Name = "MinimizeButton"
    minimizeBtn.Size = UDim2.new(0, 25, 0, 25)
    minimizeBtn.Position = UDim2.new(1, -60, 0.5, -12.5)
    minimizeBtn.BackgroundColor3 = theme.Primary
    minimizeBtn.Text = "-"
    minimizeBtn.TextColor3 = theme.Text
    minimizeBtn.Font = Enum.Font.GothamBold
    minimizeBtn.TextSize = 14
    minimizeBtn.Parent = topBar
    CreateCorner(minimizeBtn, 6)
    
    local sidebar = Instance.new("Frame")
    sidebar.Name = "Sidebar"
    sidebar.Size = UDim2.new(0, 150, 1, -35)
    sidebar.Position = UDim2.new(0, 0, 0, 35)
    sidebar.BackgroundColor3 = theme.Surface
    sidebar.BorderSizePixel = 0
    sidebar.Parent = mainFrame
    
    local tabContainer = Instance.new("ScrollingFrame")
    tabContainer.Name = "TabContainer"
    tabContainer.Size = UDim2.new(1, -10, 1, -10)
    tabContainer.Position = UDim2.new(0, 5, 0, 5)
    tabContainer.BackgroundTransparency = 1
    tabContainer.ScrollBarThickness = 3
    tabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    tabContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
    tabContainer.Parent = sidebar
    
    local tabLayout = Instance.new("UIListLayout")
    tabLayout.Padding = UDim.new(0, 5)
    tabLayout.SortOrder = Enum.SortOrder.LayoutOrder
    tabLayout.Parent = tabContainer
    
    local contentArea = Instance.new("Frame")
    contentArea.Name = "ContentArea"
    contentArea.Size = UDim2.new(1, -165, 1, -45)
    contentArea.Position = UDim2.new(0, 160, 0, 40)
    contentArea.BackgroundColor3 = theme.Background
    contentArea.BorderSizePixel = 0
    contentArea.Parent = mainFrame
    CreateCorner(contentArea, 6)
    
    local containerFolder = Instance.new("Folder")
    containerFolder.Name = "Containers"
    containerFolder.Parent = contentArea
    
    local window = {}
    window.Tabs = {}
    window.Containers = {}
    
    function window:Tab(config)
        local tabName = config.Name or "Tab"
        local tabIcon = config.Icon or ""
        
        local tabButton = Instance.new("TextButton")
        tabButton.Name = tabName.."Button"
        tabButton.Size = UDim2.new(1, -10, 0, 32)
        tabButton.BackgroundColor3 = theme.Background
        tabButton.Text = ""
        tabButton.AutoButtonColor = false
        tabButton.Parent = tabContainer
        
        local tabLayoutInside = Instance.new("UIListLayout")
        tabLayoutInside.Padding = UDim.new(0, 5)
        tabLayoutInside.SortOrder = Enum.SortOrder.LayoutOrder
        tabLayoutInside.Parent = tabContainer
        
        local tabGradient = Instance.new("UIGradient")
        tabGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, theme.Background),
            ColorSequenceKeypoint.new(1, theme.Surface)
        })
        tabGradient.Rotation = 45
        tabGradient.Parent = tabButton
        
        local iconLabel
        if tabIcon then
            iconLabel = Instance.new("ImageLabel")
            iconLabel.Size = UDim2.new(0, 20, 0, 20)
            iconLabel.Position = UDim2.new(0, 8, 0.5, -10)
            iconLabel.BackgroundTransparency = 1
            iconLabel.Image = tabIcon
            iconLabel.ImageColor3 = theme.Text
            iconLabel.Parent = tabButton
        end
        
        local nameLabel = Instance.new("TextLabel")
        nameLabel.Size = UDim2.new(1, tabIcon and -36 or -16, 1, 0)
        nameLabel.Position = UDim2.new(0, tabIcon and 36 or 16, 0, 0)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Text = tabName
        nameLabel.TextColor3 = theme.Text
        nameLabel.TextXAlignment = Enum.TextXAlignment.Left
        nameLabel.Font = Enum.Font.Gotham
        nameLabel.TextSize = 13
        nameLabel.Parent = tabButton
        
        local tabContainer = Instance.new("ScrollingFrame")
        tabContainer.Name = tabName.."Container"
        tabContainer.Size = UDim2.new(1, -20, 1, -20)
        tabContainer.Position = UDim2.new(0, 10, 0, 10)
        tabContainer.BackgroundTransparency = 1
        tabContainer.ScrollBarThickness = 4
        tabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
        tabContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
        tabContainer.Visible = false
        tabContainer.Parent = containerFolder
        
        local containerLayout = Instance.new("UIListLayout")
        containerLayout.Padding = UDim.new(0, 8)
        containerLayout.SortOrder = Enum.SortOrder.LayoutOrder
        containerLayout.Parent = tabContainer
        
        local tabObject = {
            Button = tabButton,
            Container = tabContainer,
            Name = tabName,
            Elements = {}
        }
        
        table.insert(window.Tabs, tabObject)
        table.insert(window.Containers, tabContainer)
        
        if #window.Tabs == 1 then
            tabContainer.Visible = true
            tabButton.BackgroundTransparency = 0.2
            tabGradient.Enabled = false
        end
        
        tabButton.MouseButton1Click:Connect(function()
            for _, t in pairs(window.Tabs) do
                t.Container.Visible = false
                if t.Button:FindFirstChildOfClass("UIGradient") then
                    t.Button:FindFirstChildOfClass("UIGradient").Enabled = true
                end
                t.Button.BackgroundTransparency = 0
            end
            tabContainer.Visible = true
            tabButton.BackgroundTransparency = 0.2
            tabGradient.Enabled = false
        end)
        
        function tabObject:Section(config)
            local sectionName = config.Name or "Section"
            
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName.."Section"
            sectionFrame.Size = UDim2.new(1, 0, 0, 30)
            sectionFrame.BackgroundTransparency = 1
            sectionFrame.Parent = tabContainer
            
            local sectionLabel = Instance.new("TextLabel")
            sectionLabel.Size = UDim2.new(1, -10, 1, 0)
            sectionLabel.Position = UDim2.new(0, 5, 0, 0)
            sectionLabel.BackgroundTransparency = 1
            sectionLabel.Text = sectionName
            sectionLabel.TextColor3 = theme.Primary
            sectionLabel.TextXAlignment = Enum.TextXAlignment.Left
            sectionLabel.Font = Enum.Font.GothamBold
            sectionLabel.TextSize = 14
            sectionLabel.Parent = sectionFrame
            
            local line = Instance.new("Frame")
            line.Size = UDim2.new(1, -20, 0, 2)
            line.Position = UDim2.new(0, 10, 1, -5)
            line.BackgroundColor3 = theme.Stroke
            line.Parent = sectionFrame
            CreateCorner(line, 2)
            
            local section = {}
            
            function section:Destroy()
                sectionFrame:Destroy()
            end
            
            return section
        end
        
        function tabObject:Button(config)
            local btnName = config.Name or "Button"
            local btnDesc = config.Description or ""
            local callback = config.Callback or function() end
            
            local btnFrame = Instance.new("Frame")
            btnFrame.Name = btnName.."Frame"
            btnFrame.Size = UDim2.new(1, 0, 0, 40)
            btnFrame.BackgroundColor3 = theme.Surface
            btnFrame.BackgroundTransparency = 0.2
            btnFrame.Parent = tabContainer
            CreateCorner(btnFrame, 6)
            CreateStroke(btnFrame, theme.Stroke, 1)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Size = UDim2.new(1, -70, 0, 20)
            nameLabel.Position = UDim2.new(0, 10, 0, 5)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = btnName
            nameLabel.TextColor3 = theme.Text
            nameLabel.TextXAlignment = Enum.TextXAlignment.Left
            nameLabel.Font = Enum.Font.GothamSemibold
            nameLabel.TextSize = 14
            nameLabel.Parent = btnFrame
            
            local descLabel = Instance.new("TextLabel")
            descLabel.Size = UDim2.new(1, -70, 0, 15)
            descLabel.Position = UDim2.new(0, 10, 0, 22)
            descLabel.BackgroundTransparency = 1
            descLabel.Text = btnDesc
            descLabel.TextColor3 = theme.TextDark
            descLabel.TextXAlignment = Enum.TextXAlignment.Left
            descLabel.Font = Enum.Font.Gotham
            descLabel.TextSize = 11
            descLabel.Parent = btnFrame
            
            local actionBtn = Instance.new("TextButton")
            actionBtn.Size = UDim2.new(0, 50, 0, 25)
            actionBtn.Position = UDim2.new(1, -60, 0.5, -12.5)
            actionBtn.BackgroundColor3 = theme.Primary
            actionBtn.Text = ">"
            actionBtn.TextColor3 = theme.Text
            actionBtn.Font = Enum.Font.GothamBold
            actionBtn.TextSize = 14
            actionBtn.Parent = btnFrame
            CreateCorner(actionBtn, 4)
            
            actionBtn.MouseButton1Click:Connect(callback)
            
            local button = {}
            
            function button:Destroy()
                btnFrame:Destroy()
            end
            
            return button
        end
        
        function tabObject:Toggle(config)
            local toggleName = config.Name or "Toggle"
            local toggleDesc = config.Description or ""
            local default = config.Default or false
            local callback = config.Callback or function() end
            local flag = config.Flag
            
            if flag and AxiomX.Flags[flag] ~= nil then
                default = AxiomX.Flags[flag]
            end
            
            local toggleFrame = Instance.new("Frame")
            toggleFrame.Name = toggleName.."Frame"
            toggleFrame.Size = UDim2.new(1, 0, 0, 40)
            toggleFrame.BackgroundColor3 = theme.Surface
            toggleFrame.BackgroundTransparency = 0.2
            toggleFrame.Parent = tabContainer
            CreateCorner(toggleFrame, 6)
            CreateStroke(toggleFrame, theme.Stroke, 1)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Size = UDim2.new(1, -70, 0, 20)
            nameLabel.Position = UDim2.new(0, 10, 0, 5)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = toggleName
            nameLabel.TextColor3 = theme.Text
            nameLabel.TextXAlignment = Enum.TextXAlignment.Left
            nameLabel.Font = Enum.Font.GothamSemibold
            nameLabel.TextSize = 14
            nameLabel.Parent = toggleFrame
            
            local descLabel = Instance.new("TextLabel")
            descLabel.Size = UDim2.new(1, -70, 0, 15)
            descLabel.Position = UDim2.new(0, 10, 0, 22)
            descLabel.BackgroundTransparency = 1
            descLabel.Text = toggleDesc
            descLabel.TextColor3 = theme.TextDark
            descLabel.TextXAlignment = Enum.TextXAlignment.Left
            descLabel.Font = Enum.Font.Gotham
            descLabel.TextSize = 11
            descLabel.Parent = toggleFrame
            
            local toggleBg = Instance.new("Frame")
            toggleBg.Size = UDim2.new(0, 45, 0, 22)
            toggleBg.Position = UDim2.new(1, -55, 0.5, -11)
            toggleBg.BackgroundColor3 = default and theme.Primary or theme.Stroke
            toggleBg.Parent = toggleFrame
            CreateCorner(toggleBg, 11)
            
            local toggleKnob = Instance.new("Frame")
            toggleKnob.Size = UDim2.new(0, 18, 0, 18)
            toggleKnob.Position = UDim2.new(default and 1 or 0, default and -19 or 2, 0.5, -9)
            toggleKnob.BackgroundColor3 = theme.Text
            toggleKnob.Parent = toggleBg
            CreateCorner(toggleKnob, 9)
            
            local state = default
            
            local function updateToggle(newState)
                state = newState
                toggleKnob:TweenPosition(
                    UDim2.new(state and 1 or 0, state and -19 or 2, 0.5, -9),
                    Enum.EasingDirection.Out,
                    Enum.EasingStyle.Quad,
                    0.2,
                    true
                )
                toggleBg.BackgroundColor3 = state and theme.Primary or theme.Stroke
                
                if flag then
                    AxiomX.Flags[flag] = state
                end
                
                callback(state)
            end
            
            toggleFrame.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    updateToggle(not state)
                end
            end)
            
            local toggle = {}
            
            function toggle:Set(value)
                updateToggle(value)
            end
            
            function toggle:Get()
                return state
            end
            
            function toggle:Destroy()
                toggleFrame:Destroy()
            end
            
            return toggle
        end
        
        function tabObject:Slider(config)
            local sliderName = config.Name or "Slider"
            local sliderDesc = config.Description or ""
            local min = config.Min or 0
            local max = config.Max or 100
            local default = config.Default or 50
            local callback = config.Callback or function() end
            local flag = config.Flag
            local suffix = config.Suffix or ""
            
            if flag and AxiomX.Flags[flag] ~= nil then
                default = AxiomX.Flags[flag]
            end
            
            local sliderFrame = Instance.new("Frame")
            sliderFrame.Name = sliderName.."Frame"
            sliderFrame.Size = UDim2.new(1, 0, 0, 55)
            sliderFrame.BackgroundColor3 = theme.Surface
            sliderFrame.BackgroundTransparency = 0.2
            sliderFrame.Parent = tabContainer
            CreateCorner(sliderFrame, 6)
            CreateStroke(sliderFrame, theme.Stroke, 1)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Size = UDim2.new(1, -100, 0, 20)
            nameLabel.Position = UDim2.new(0, 10, 0, 5)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = sliderName
            nameLabel.TextColor3 = theme.Text
            nameLabel.TextXAlignment = Enum.TextXAlignment.Left
            nameLabel.Font = Enum.Font.GothamSemibold
            nameLabel.TextSize = 14
            nameLabel.Parent = sliderFrame
            
            local descLabel = Instance.new("TextLabel")
            descLabel.Size = UDim2.new(1, -100, 0, 15)
            descLabel.Position = UDim2.new(0, 10, 0, 22)
            descLabel.BackgroundTransparency = 1
            descLabel.Text = sliderDesc
            descLabel.TextColor3 = theme.TextDark
            descLabel.TextXAlignment = Enum.TextXAlignment.Left
            descLabel.Font = Enum.Font.Gotham
            descLabel.TextSize = 11
            descLabel.Parent = sliderFrame
            
            local valueLabel = Instance.new("TextLabel")
            valueLabel.Size = UDim2.new(0, 60, 0, 20)
            valueLabel.Position = UDim2.new(1, -70, 0, 8)
            valueLabel.BackgroundColor3 = theme.Background
            valueLabel.BackgroundTransparency = 0.3
            valueLabel.Text = tostring(default)..suffix
            valueLabel.TextColor3 = theme.Text
            valueLabel.Font = Enum.Font.GothamBold
            valueLabel.TextSize = 12
            valueLabel.Parent = sliderFrame
            CreateCorner(valueLabel, 4)
            
            local sliderBg = Instance.new("Frame")
            sliderBg.Size = UDim2.new(1, -120, 0, 4)
            sliderBg.Position = UDim2.new(0, 10, 0, 40)
            sliderBg.BackgroundColor3 = theme.Stroke
            sliderBg.Parent = sliderFrame
            CreateCorner(sliderBg, 2)
            
            local sliderFill = Instance.new("Frame")
            sliderFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
            sliderFill.BackgroundColor3 = theme.Primary
            sliderFill.Parent = sliderBg
            CreateCorner(sliderFill, 2)
            
            local sliderKnob = Instance.new("Frame")
            sliderKnob.Size = UDim2.new(0, 12, 0, 12)
            sliderKnob.Position = UDim2.new((default - min) / (max - min), -6, 0.5, -6)
            sliderKnob.BackgroundColor3 = theme.Text
            sliderKnob.Parent = sliderBg
            CreateCorner(sliderKnob, 6)
            
            local dragging = false
            local value = default
            
            local function updateSlider(val)
                value = math.clamp(val, min, max)
                local percent = (value - min) / (max - min)
                
                sliderFill.Size = UDim2.new(percent, 0, 1, 0)
                sliderKnob.Position = UDim2.new(percent, -6, 0.5, -6)
                valueLabel.Text = tostring(math.floor(value * 100) / 100)..suffix
                
                if flag then
                    AxiomX.Flags[flag] = value
                end
                
                callback(value)
            end
            
            sliderBg.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                    local percent = (Mouse.X - sliderBg.AbsolutePosition.X) / sliderBg.AbsoluteSize.X
                    updateSlider(min + (percent * (max - min)))
                end
            end)
            
            sliderBg.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)
            
            game:GetService("RunService").RenderStepped:Connect(function()
                if dragging then
                    local percent = (Mouse.X - sliderBg.AbsolutePosition.X) / sliderBg.AbsoluteSize.X
                    updateSlider(min + (percent * (max - min)))
                end
            end)
            
            local slider = {}
            
            function slider:Set(val)
                updateSlider(val)
            end
            
            function slider:Get()
                return value
            end
            
            function slider:Destroy()
                sliderFrame:Destroy()
            end
            
            return slider
        end
        
        function tabObject:Dropdown(config)
            local dropName = config.Name or "Dropdown"
            local dropDesc = config.Description or ""
            local options = config.Options or {}
            local default = config.Default or options[1]
            local callback = config.Callback or function() end
            local flag = config.Flag
            
            if flag and AxiomX.Flags[flag] ~= nil then
                default = AxiomX.Flags[flag]
            end
            
            local dropFrame = Instance.new("Frame")
            dropFrame.Name = dropName.."Frame"
            dropFrame.Size = UDim2.new(1, 0, 0, 40)
            dropFrame.BackgroundColor3 = theme.Surface
            dropFrame.BackgroundTransparency = 0.2
            dropFrame.Parent = tabContainer
            CreateCorner(dropFrame, 6)
            CreateStroke(dropFrame, theme.Stroke, 1)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Size = UDim2.new(1, -120, 0, 20)
            nameLabel.Position = UDim2.new(0, 10, 0, 5)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = dropName
            nameLabel.TextColor3 = theme.Text
            nameLabel.TextXAlignment = Enum.TextXAlignment.Left
            nameLabel.Font = Enum.Font.GothamSemibold
            nameLabel.TextSize = 14
            nameLabel.Parent = dropFrame
            
            local descLabel = Instance.new("TextLabel")
            descLabel.Size = UDim2.new(1, -120, 0, 15)
            descLabel.Position = UDim2.new(0, 10, 0, 22)
            descLabel.BackgroundTransparency = 1
            descLabel.Text = dropDesc
            descLabel.TextColor3 = theme.TextDark
            descLabel.TextXAlignment = Enum.TextXAlignment.Left
            descLabel.Font = Enum.Font.Gotham
            descLabel.TextSize = 11
            descLabel.Parent = dropFrame
            
            local dropBtn = Instance.new("TextButton")
            dropBtn.Size = UDim2.new(0, 100, 0, 25)
            dropBtn.Position = UDim2.new(1, -110, 0.5, -12.5)
            dropBtn.BackgroundColor3 = theme.Background
            dropBtn.Text = tostring(default)
            dropBtn.TextColor3 = theme.Text
            dropBtn.Font = Enum.Font.Gotham
            dropBtn.TextSize = 11
            dropBtn.Parent = dropFrame
            CreateCorner(dropBtn, 4)
            
            local dropList = Instance.new("Frame")
            dropList.Name = "DropdownList"
            dropList.Size = UDim2.new(0, 120, 0, 0)
            dropList.Position = UDim2.new(1, -110, 1, 2)
            dropList.BackgroundColor3 = theme.Surface
            dropList.BackgroundTransparency = 0.1
            dropList.ClipsDescendants = true
            dropList.Visible = false
            dropList.ZIndex = 10
            dropList.Parent = dropFrame
            CreateCorner(dropList, 4)
            CreateStroke(dropList, theme.Stroke, 1)
            
            local listLayout = Instance.new("UIListLayout")
            listLayout.Padding = UDim.new(0, 2)
            listLayout.SortOrder = Enum.SortOrder.LayoutOrder
            listLayout.Parent = dropList
            
            local open = false
            local selected = default
            
            local function updateDropdown()
                for _, child in pairs(dropList:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                
                for _, opt in ipairs(options) do
                    local optBtn = Instance.new("TextButton")
                    optBtn.Size = UDim2.new(1, -10, 0, 25)
                    optBtn.Position = UDim2.new(0, 5, 0, 0)
                    optBtn.BackgroundColor3 = theme.Surface
                    optBtn.BackgroundTransparency = 0.5
                    optBtn.Text = tostring(opt)
                    optBtn.TextColor3 = theme.Text
                    optBtn.Font = Enum.Font.Gotham
                    optBtn.TextSize = 11
                    optBtn.ZIndex = 11
                    optBtn.Parent = dropList
                    CreateCorner(optBtn, 4)
                    
                    optBtn.MouseButton1Click:Connect(function()
                        selected = opt
                        dropBtn.Text = tostring(selected)
                        dropList.Visible = false
                        open = false
                        
                        if flag then
                            AxiomX.Flags[flag] = selected
                        end
                        
                        callback(selected)
                    end)
                end
                
                dropList.Size = UDim2.new(0, 120, 0, #options * 27)
            end
            
            updateDropdown()
            
            dropBtn.MouseButton1Click:Connect(function()
                open = not open
                dropList.Visible = open
            end)
            
            local dropdown = {}
            
            function dropdown:Set(value)
                selected = value
                dropBtn.Text = tostring(selected)
                if flag then
                    AxiomX.Flags[flag] = selected
                end
            end
            
            function dropdown:Get()
                return selected
            end
            
            function dropdown:SetOptions(newOptions)
                options = newOptions
                updateDropdown()
            end
            
            function dropdown:Destroy()
                dropFrame:Destroy()
            end
            
            return dropdown
        end
        
        return tabObject
    end
    
    function window:Destroy()
        mainFrame:Destroy()
    end
    
    return window
end

return AxiomX
